exports.id=31,exports.ids=[31],exports.modules={30377:(e,r,s)=>{Promise.resolve().then(s.bind(s,72347)),Promise.resolve().then(s.bind(s,56178)),Promise.resolve().then(s.bind(s,81139))},40105:(e,r,s)=>{Promise.resolve().then(s.bind(s,99277)),Promise.resolve().then(s.bind(s,83220)),Promise.resolve().then(s.bind(s,97469))},53987:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},56178:(e,r,s)=>{"use strict";s.d(r,{A:()=>n,AuthProvider:()=>o});var a=s(60687),t=s(43210);s(56408),s(31534),s(70268);let i=(0,t.createContext)(),n=()=>(0,t.useContext)(i);function o({children:e}){let[r,s]=(0,t.useState)(null),[n,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!0);return(0,a.jsx)(i.Provider,{value:{user:r,userData:n,loading:l},children:e})}},61135:()=>{},68059:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},70268:(e,r,s)=>{"use strict";let a;s.d(r,{db:()=>c,j:()=>l});var t=s(79601),i=s(56408),n=s(31534),o=s(81644);a=(0,t.Dk)().length?(0,t.Sx)():(0,t.Wp)({apiKey:"AIzaSyCmeWb5IZfDKhvqmcJYGdMQPERRli03IrE",authDomain:"redesmyd-f8616.firebaseapp.com",projectId:"redesmyd-f8616",storageBucket:"redesmyd-f8616.firebasestorage.app",messagingSenderId:"903272640767",appId:"1:903272640767:web:ff802e576eca05765a5cca",measurementId:"G-VQTNSEJHCQ"});let l=(0,i.xI)(a),c=(0,n.aU)(a);(0,o.c7)(a)},72347:(e,r,s)=>{"use strict";s.d(r,{default:()=>et});var a=s(60687),t=s(16189),i=s(76180),n=s.n(i),o=s(43210),l=s(56408),c=s(70268),d=s(56178),m=s(85814),x=s.n(m),h=s(30474),u=s(78272),b=s(32192),p=s(49625),f=s(88059),g=s(69533),j=s(79410),v=s(1513),y=s(17313),A=s(52477),k=s(77850),I=s(6727),w=s(33725),N=s(23928),z=s(23560),P=s(5336),C=s(77026),G=s(56237),T=s(62022),S=s(19080),R=s(28561),D=s(20813),E=s(55445),q=s(9501),H=s(92133),$=s(23026),L=s(69977),U=s(52600),M=s(10083),V=s(82679),Y=s(84027),W=s(11860),_=s(12941),O=s(88920),Q=s(26001),J=s(31534),K=s(97051),Z=s(85668),B=s.n(Z);function F(){let[e,r]=(0,o.useState)([]),[s,t]=(0,o.useState)(!1),i=async()=>{t(!s),s||e.filter(e=>!e.leida).forEach(async e=>{await (0,J.mZ)((0,J.H9)(c.db,"notificaciones",e.id),{leida:!0})})},n=e=>{switch(e){case"Liquidaci\xf3n":return"border-blue-500";case"Despacho":return"border-green-500";case"Devoluci\xf3n":return"border-yellow-500";default:return"border-gray-400"}};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:i,className:"relative",children:[(0,a.jsx)(K.A,{className:"w-6 h-6 text-gray-700 dark:text-gray-300 hover:text-[#ff6413]"}),e.some(e=>!e.leida)&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-2",children:e.filter(e=>!e.leida).length})]}),s&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white dark:bg-[#1c1c1e] shadow-lg rounded border z-50 max-h-96 overflow-auto",children:[(0,a.jsx)("div",{className:"p-3 font-bold border-b text-gray-700 dark:text-gray-200",children:"Notificaciones de Hoy"}),0===e.length?(0,a.jsx)("p",{className:"p-4 text-sm text-gray-500",children:"No hay notificaciones recientes."}):e.map(e=>(0,a.jsxs)("div",{className:`p-3 border-l-4 ${n(e.tipo)} mb-1`,children:[(0,a.jsx)("p",{className:"text-sm",children:e.mensaje}),e.link&&(0,a.jsx)("a",{href:e.link,target:"_blank",className:"text-blue-600 text-xs",children:"\uD83D\uDCC4 Ver Comprobante"}),(0,a.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:B()(e.fecha?.toDate()).format("DD/MM/YYYY HH:mm")})]},e.id))]})]})}function X(){let[e,r]=(0,o.useState)(null);return(0,a.jsx)(O.N,{children:e&&(0,a.jsxs)(Q.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-4 right-4 bg-white dark:bg-gray-800 shadow-lg dark:shadow-2xl border-l-4 border-blue-500 dark:border-blue-400 p-4 rounded w-80 z-50",children:[(0,a.jsx)("h4",{className:"font-bold text-blue-600 dark:text-blue-300 mb-1",children:e.tipo}),(0,a.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.mensaje}),e.link&&(0,a.jsx)("a",{href:e.link,target:"_blank",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-xs underline mt-2 inline-block",children:"Ver Comprobante"})]})})}function ee({item:e,open:r,currentPathname:s,activeGroup:t,setActiveGroup:i}){let n=e.subItems&&e.subItems.some(e=>s===e.href),o=s===e.href||n,l=!!e.subItems&&t===e.id;return e.subItems&&e.subItems.length>0?(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("button",{onClick:()=>i(l?null:e.id),className:`group relative flex items-center justify-between w-full gap-3 px-3 py-2.5 rounded-md text-sm transition-all duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 ${o?"text-[#ff6413] font-semibold bg-orange-50 dark:bg-gray-700":"text-gray-700 dark:text-gray-300"}`,"aria-expanded":l,"aria-controls":`submenu-${e.id}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-lg flex-shrink-0 w-5 h-5",children:e.icon}),r&&(0,a.jsx)("span",{className:"truncate",children:e.label})]}),r&&(0,a.jsx)("span",{className:`transform transition-transform duration-200 ${l?"rotate-180":"rotate-0"}`,children:(0,a.jsx)(u.A,{size:16})})]}),(0,a.jsx)(O.N,{children:r&&l&&(0,a.jsx)(Q.P.div,{id:`submenu-${e.id}`,initial:{height:0,opacity:0,marginTop:0},animate:{height:"auto",opacity:1,marginTop:"0.25rem"},exit:{height:0,opacity:0,marginTop:0},transition:{duration:.2,ease:"easeInOut"},className:"ml-3 mt-1 pl-3 border-l border-gray-200 dark:border-gray-600 flex flex-col space-y-0.5",children:e.subItems.map(e=>(0,a.jsx)(er,{href:e.href,icon:e.icon,label:e.label,open:r,isSubItem:!0},e.href))})})]}):null}function er({href:e,icon:r,label:s,open:i,isSubItem:n=!1}){let o=(0,t.usePathname)()===e;return(0,a.jsxs)(x(),{href:e,className:`group relative flex items-center gap-3 px-3 rounded-md text-sm transition-all duration-200 hover:text-[#ff6413] dark:hover:text-orange-400 ${o?"text-[#ff6413] font-semibold bg-orange-50 dark:bg-gray-700":"text-gray-700 dark:text-gray-300"} ${n?"py-1.5 text-xs pl-1":"py-2.5"}`,children:[(0,a.jsx)("span",{className:`flex-shrink-0 ${n?"w-4 h-4 text-base":"w-5 h-5 text-lg"}`,children:r}),i?(0,a.jsx)("span",{className:"truncate",children:s}):(0,a.jsx)("span",{className:"absolute left-full ml-3 top-1/2 -translate-y-1/2 whitespace-nowrap rounded-md bg-gray-800 dark:bg-black px-2.5 py-1.5 text-xs text-white opacity-0 group-hover:opacity-100 transition-opacity z-50 shadow-lg",children:s})]})}function es({children:e}){let{userData:r,loading:s}=(0,d.A)(),[i,m]=(0,o.useState)(!0),[u,O]=(0,o.useState)(null),J=(0,t.useRouter)(),K=(0,t.usePathname)(),Z=async()=>{await (0,l.CI)(c.j),J.push("/login")},B=e=>!!r?.rol&&(Array.isArray(r.rol)?e.some(e=>r.rol.includes(e)):e.includes(r.rol)),er=[{id:"general",label:"Principal",icon:(0,a.jsx)(b.A,{size:20}),roles:["Gestor","Gerencia","Almac\xe9n","TI","Supervisor","RRHH","Seguridad"],subItems:[{href:"/dashboard",label:"Dashboard",icon:(0,a.jsx)(p.A,{size:16}),roles:["Gestor","Gerencia","Almac\xe9n","TI","Supervisor","RRHH","Seguridad"]},{href:"/cuadrillas",label:"Cuadrillas",icon:(0,a.jsx)(f.A,{size:16}),roles:["Gestor","Gerencia","Almac\xe9n","TI"]},{href:"/tecnicos",label:"T\xe9cnicos",icon:(0,a.jsx)(g.A,{size:16}),roles:["Gestor","Gerencia","Almac\xe9n","TI"]}]},{id:"instalaciones",label:"Instalaciones",icon:(0,a.jsx)(j.A,{size:20}),roles:["Gestor","Gerencia","Almac\xe9n","TI"],subItems:[{href:"/instalaciones/mapa",label:"Mapa Instalaciones",icon:(0,a.jsx)(v.A,{size:16}),roles:["Gestor","Gerencia","Almac\xe9n","TI"]},{href:"/instalaciones/gerencia",label:"Vista Gerencia",icon:(0,a.jsx)(y.A,{size:16}),roles:["Gerencia","Almac\xe9n","TI"]},{href:"/instalaciones/gestor",label:"Llamadas INCONCERT",icon:(0,a.jsx)(A.A,{size:16}),roles:["Gestor"]}]},{id:"asistencia",label:"Asistencia",icon:(0,a.jsx)(k.A,{size:20}),roles:["RRHH","Seguridad","Supervisor","Gestor","Gerencia","Almac\xe9n","TI"],subItems:[{href:"/asistencia/visualizar",label:"Visualizar Asistencia",icon:(0,a.jsx)(I.A,{size:16}),roles:["RRHH","Seguridad","Supervisor","Gestor","Gerencia","Almac\xe9n","TI"]},{href:"/asistencia/registrar",label:"Registrar Asistencia",icon:(0,a.jsx)(w.A,{size:16}),roles:["Gerencia","Almac\xe9n","TI","RRHH","Seguridad","Supervisor"]}]},{id:"liquidacion",label:"Liquidaci\xf3n",icon:(0,a.jsx)(N.A,{size:20}),roles:["Almac\xe9n","TI","Gerencia"],subItems:[{href:"/liquidacion/liquidacion-almacen",label:"Liquidaci\xf3n Almac\xe9n",icon:(0,a.jsx)(z.A,{size:16}),roles:["Almac\xe9n","TI"]},{href:"/liquidacion/liquidacion",label:"Instalaciones Liquidadas",icon:(0,a.jsx)(P.A,{size:16}),roles:["Almac\xe9n","TI","Gerencia"]}]},{id:"almacen",label:"Almac\xe9n",icon:(0,a.jsx)(C.A,{size:20}),roles:["Almac\xe9n","Gerencia","TI"],subItems:[{href:"/almacen/stock",label:"Stock General Equipos",icon:(0,a.jsx)(G.A,{size:16}),roles:["Almac\xe9n","TI","Gerencia"]},{href:"/almacen/carga-equipos",label:"Ingreso Equipos",icon:(0,a.jsx)(T.A,{size:16}),roles:["Almac\xe9n","TI"]},{href:"/almacen/despacho",label:"Despacho Equipos",icon:(0,a.jsx)(S.A,{size:16}),roles:["Almac\xe9n","TI"]},{href:"/almacen/ingreso-materiales-venta",label:"Ingreso Materiales",icon:(0,a.jsx)(C.A,{size:16}),roles:["Almac\xe9n","Gerencia","TI"]},{href:"/almacen/venta-materiales",label:"Venta/Despacho Materiales",icon:(0,a.jsx)(R.A,{size:16}),roles:["Almac\xe9n","Gerencia","TI"]},{href:"/almacen/equipos",label:"Inventario Equipos",icon:(0,a.jsx)(G.A,{size:16}),roles:["Almac\xe9n","TI"]},{href:"/almacen/devolucion",label:"Devoluci\xf3n Equipos",icon:(0,a.jsx)(D.A,{size:16}),roles:["Almac\xe9n","TI"]},{href:"/almacen/recepcion-actas",label:"Recepci\xf3n Actas",icon:(0,a.jsx)(E.A,{size:16}),roles:["Almac\xe9n","TI"]}]},{id:"administracion",label:"Administraci\xf3n",icon:(0,a.jsx)(q.A,{size:20}),roles:["Gerencia","TI","Gestor"],subItems:[{href:"/admin/usuarios/usuarios",label:"Gesti\xf3n Usuarios",icon:(0,a.jsx)(H.A,{size:16}),roles:["Gerencia","TI"]},{href:"/admin/usuarios/nuevo",label:"Nuevo Usuario",icon:(0,a.jsx)($.A,{size:16}),roles:["Gerencia","TI"]},{href:"/admin/importar-instalaciones",label:"Importar Instalaciones",icon:(0,a.jsx)(L.A,{size:16}),roles:["Gerencia","TI","Gestor"]},{href:"/gerencia/orden_compra",label:"\xd3rden de Compra",icon:(0,a.jsx)(U.A,{size:16}),roles:["Gerencia","TI"]}]},{id:"herramientas_ti",label:"Herramientas TI",icon:(0,a.jsx)(b.A,{size:20}),roles:["TI"],subItems:[{href:"/admin/exportar-sheets",label:"Exportar Liquid. a Sheets",icon:(0,a.jsx)(M.A,{size:16}),roles:["TI"]}]},{id:"configuracion",label:"Configuraci\xf3n",icon:(0,a.jsx)(V.A,{size:20}),roles:["TI"],subItems:[{href:"/configuraciones",label:"Ajustes Generales",icon:(0,a.jsx)(Y.A,{size:16}),roles:["TI"]}]}].map(e=>({...e,subItems:e.subItems.filter(e=>B(e.roles))})).filter(e=>B(e.roles)&&e.subItems.length>0);return s||!r?(0,a.jsxs)("div",{className:"jsx-951ed66fd32a1aa7 h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:[(0,a.jsxs)("div",{className:"jsx-951ed66fd32a1aa7 flex flex-col items-center",children:[(0,a.jsx)("div",{className:"jsx-951ed66fd32a1aa7 loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"}),(0,a.jsx)("p",{className:"jsx-951ed66fd32a1aa7 text-gray-500 dark:text-gray-400",children:"Cargando aplicaci\xf3n..."})]}),(0,a.jsx)(n(),{id:"951ed66fd32a1aa7",children:".loader.jsx-951ed66fd32a1aa7{border-top-color:#ff6413;-webkit-animation:spinner 1.2s linear infinite;-moz-animation:spinner 1.2s linear infinite;-o-animation:spinner 1.2s linear infinite;animation:spinner 1.2s linear infinite}@-webkit-keyframes spinner{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spinner{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spinner{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):(0,a.jsxs)("div",{className:"jsx-d03d657ec01799f7 h-screen overflow-hidden flex flex-col bg-gray-100 dark:bg-black text-gray-900 dark:text-white",children:[(0,a.jsxs)("header",{style:{height:"var(--header-height, 65px)"},className:"jsx-d03d657ec01799f7 sticky top-0 flex items-center justify-between px-4 sm:px-6 py-3 bg-white dark:bg-gray-800 border-b dark:border-gray-700 shadow-sm z-50",children:[(0,a.jsxs)("div",{className:"jsx-d03d657ec01799f7 flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>m(!i),className:"jsx-d03d657ec01799f7 p-1.5 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:i?(0,a.jsx)(W.A,{className:"w-5 h-5"}):(0,a.jsx)(_.A,{className:"w-5 h-5"})}),(0,a.jsx)(x(),{href:"/dashboard",className:"flex-shrink-0",children:(0,a.jsx)(h.default,{src:"/image/logo.png",alt:"Logo de la Empresa",width:70,height:35,className:"object-contain",priority:!0})})]}),r&&(0,a.jsxs)("div",{className:"jsx-d03d657ec01799f7 flex items-center gap-3 sm:gap-4",children:[(0,a.jsx)(F,{}),(0,a.jsx)(X,{}),(0,a.jsxs)("div",{className:"jsx-d03d657ec01799f7 text-right",children:[(0,a.jsx)("p",{className:"jsx-d03d657ec01799f7 text-sm font-semibold truncate max-w-[150px] sm:max-w-xs",children:r.nombres||"Usuario"}),(0,a.jsx)("p",{className:"jsx-d03d657ec01799f7 text-xs text-gray-500 dark:text-gray-400 truncate max-w-[150px] sm:max-w-xs",children:Array.isArray(r.rol)?r.rol.join(", "):r.rol||"Sin rol"}),(0,a.jsx)("button",{onClick:Z,className:"jsx-d03d657ec01799f7 text-xs text-red-500 hover:text-red-700 dark:hover:text-red-400 mt-0.5",children:"Cerrar sesi\xf3n"})]})]})]}),(0,a.jsxs)("div",{className:"jsx-d03d657ec01799f7 flex flex-1 overflow-hidden",children:[(0,a.jsx)("aside",{className:`jsx-d03d657ec01799f7 sticky top-0 bg-white dark:bg-gray-800 border-r dark:border-gray-700 shadow-lg transition-all duration-300 ease-in-out flex flex-col ${i?"w-64":"w-20"} max-h-[calc(100vh-var(--header-height,65px))]`,children:(0,a.jsx)("nav",{className:`jsx-d03d657ec01799f7 flex-grow flex flex-col gap-1 p-3 ${i?"overflow-y-auto custom-scrollbar":"overflow-hidden items-center"}`,children:er.map(e=>(0,a.jsx)(ee,{item:e,open:i,currentPathname:K,activeGroup:u,setActiveGroup:O},e.id))})}),(0,a.jsx)(Q.P.main,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2},className:"flex-1 h-[calc(100vh-var(--header-height,65px))] overflow-auto bg-gray-100 dark:bg-black p-4 sm:p-6",children:e},K)]}),(0,a.jsx)(n(),{id:"d03d657ec01799f7",children:":root{--header-height:65px}.custom-scrollbar::-webkit-scrollbar{width:6px}.custom-scrollbar::-webkit-scrollbar-track{background:transparent}.custom-scrollbar::-webkit-scrollbar-thumb{background:#ccc;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.custom-scrollbar::-webkit-scrollbar-thumb:hover{background:#aaa}.custom-scrollbar{scrollbar-width:thin;scrollbar-color:#ccc transparent}"})]})}function ea({children:e}){let{userData:r,loading:s}=(0,d.A)();(0,t.useRouter)();let i=(0,t.usePathname)();["/login"].some(e=>i.startsWith(e));let[n,l]=(0,o.useState)(!1);return s||!n?(0,a.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Cargando..."})}):e}function et({children:e}){let r=(0,t.usePathname)();return["/login"].some(e=>r.startsWith(e))?(0,a.jsx)(ea,{children:e}):(0,a.jsx)(ea,{children:(0,a.jsx)(es,{children:e})})}},75535:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l,metadata:()=>o});var a=s(37413);s(61135);var t=s(97469),i=s(83220),n=s(99277);let o={title:"RedesMYD App",description:"App de asistencia, cuadrillas y almac\xe9n"};function l({children:e}){return(0,a.jsx)("html",{lang:"es",children:(0,a.jsx)("body",{children:(0,a.jsxs)(i.AuthProvider,{children:[(0,a.jsx)(n.default,{children:e}),(0,a.jsx)(t.Toaster,{position:"top-right",reverseOrder:!1})," "]})})})}},83220:(e,r,s)=>{"use strict";s.d(r,{AuthProvider:()=>t});var a=s(12907);(0,a.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\artur\\Desktop\\REDES-APP\\redesmyd-app\\src\\app\\context\\AuthContext.js","useAuth");let t=(0,a.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\artur\\Desktop\\REDES-APP\\redesmyd-app\\src\\app\\context\\AuthContext.js","AuthProvider")},99277:(e,r,s)=>{"use strict";s.d(r,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\artur\\\\Desktop\\\\REDES-APP\\\\redesmyd-app\\\\src\\\\app\\\\components\\\\ClientLayout.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\artur\\Desktop\\REDES-APP\\redesmyd-app\\src\\app\\components\\ClientLayout.js","default")}};